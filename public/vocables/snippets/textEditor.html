<!DOCTYPE html>
<html lang="en">
<head>
    <script src="../js/external/jquery/jquery.min.js"></script>
</head>


<script>

    if (!window.x) {
        x = {};
    }
    x.Selector = {};
    x.Selector.getSelected = function() {
        var t = '';
        if (window.getSelection) {
            t = window.getSelection();
        } else if (document.getSelection) {
            t = document.getSelection();
        } else if (document.selection) {
            t = document.selection.createRange().text;
        }
        return t;
    }
    function setLink(){
        //https://developer.mozilla.org/en-US/docs/Web/API/Range/surroundContents
        var range = document.createRange();
        const newParent = document.createElement('a');
        newParent.setAttribute('href', "http://google.com");
        newParent.setAttribute('style', "font-weight:bold");
        newParent.setAttribute('id', "xxxx");
var xx=x.Selector.getSelected()
        var range= xx.getRangeAt(0)

        range.surroundContents(newParent);
    }

    $(function() {
        $(document).bind("mouseup", function() {

         var mytext = x.Selector.getSelected();
            setLink()

         //   alert(mytext);
        });
    });
</script>
<body>
<div >sdergrtette dgrdgfdfghdfgdfg <p> Editable text </p>
</div>
</body>
</html>